{% extends "system/base.html" %}
{% block title %}Game Options{% endblock %}

{% block content %}

    <div class="row mb-3">
        <div class="col">
            <h2>Saved Games</h2>
            <div class="d-flex flex-wrap gap-2 mb-2 align-items-end">
                <a href="{{ url_for('add_game') }}" class="btn btn-primary">Add New Game</a>
                <a href="{{ url_for('settings') }}" class="btn btn-secondary">Play Options Settings</a>
                <a href="{{ url_for('callsheet') }}" class="btn btn-info" id="callsheet-link">Callsheet</a>
            </div>
        </div>
    </div>

    <!-- Table and Right-Aligned Filter -->
    <div class="my-table-wrapper">
        <div class="d-flex mb-2">
            <div class="ms-auto d-flex align-items-center gap-2">
                <label for="awayTeamFilter" class="form-label mb-0">Filter by Away Team:</label>
                <select id="awayTeamFilter" class="form-select" style="min-width: 250px;">
                    <option value="">All Away Teams</option>
                    {% for team in teams %}
                        {% if team.id != current_user.team.id %}
                            <option value="{{ team.name }}">{{ team.name }}</option>
                        {% endif %}
                    {% endfor %}
                </select>
            </div>
        </div>

        <div class="table-responsive">
            <table id="gamesTable" class="table table-striped align-middle mb-0">
                <thead>
                <tr>
                    <th>ID</th>
                    <th>Game Name</th>
                    <th>Date/Time</th>
                    <th>Home Team</th>
                    <th>Away Team</th>
                    <th>Total Drives</th>
                    <th>Total Plays</th>
                    <th>Actions</th>
                </tr>
                </thead>
                <tbody>
                {% include 'game/partials/games_table_rows.html' %}
                </tbody>
            </table>
        </div>
    </div>
    <script src="{{ url_for('static', filename='js/game/games_table_filter.js') }}"></script>
{% endblock %}