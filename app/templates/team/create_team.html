{% extends "system/base.html" %}

{% block content %}
<script src="https://cdn.jsdelivr.net/npm/@jaames/iro@5"></script>

<style>
  .shape-thumb {
    border: none !important;
    border-radius: 6px;
    cursor: pointer;
    outline: none !important;
    box-shadow: none !important;
  }

  .shape-thumb:focus,
  .shape-thumb:focus-visible,
  .shape-thumb:active {
    outline: none !important;
    box-shadow: none !important;
    border: none !important;
  }

  .shape-wrapper {
    border: 2px solid #444;
    border-radius: 6px;
    transition: border-color 0.2s;
  }

  .shape-wrapper.selected {
  border: 3px solid red !important;
  }

  .shape-wrapper:focus-within {
    outline: none !important;
    box-shadow: none !important;
  }

  /* Hide blue focus ring globally on all elements unless needed for accessibility */
  *:focus {
    outline: none !important;
  }
</style>


<div class="container mt-5">
  <h2 class="text-center mb-4">Create Your Team Shield</h2>

  <div class="row justify-content-center align-items-start">
    <!-- Steps on the left -->
    {% include "team/partials/steps.html" %}

    <!-- Live Preview on the right -->
    {% include "team/partials/preview.html" %}
  </div>
</div>

{% include "team/partials/scripts.html" %}

<script>
  document.querySelectorAll('.shape-thumb').forEach(img => {
    img.addEventListener('click', () => {
      // Remove selection from all
      document.querySelectorAll('.shape-wrapper').forEach(wrapper => {
        wrapper.classList.remove('selected');
      });

      // Add selection to clicked one
      const wrapper = img.closest('.shape-wrapper');
      wrapper.classList.add('selected');
    });
  });
</script>
{% endblock %}
